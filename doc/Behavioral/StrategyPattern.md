## 策略模式

### 定义
策略模式：定义一系列算法，将每一个算法封装起来，并让它们可以相互替换。策略模式让算法独立于使用它的客户而变化，也称为政策模式。

### 结构分析
策略模式包含如下角色：
- 环境类（Context）：用来操作策略的上下文环境，屏蔽高层模块（客户端）对策略，算法的直接访问，封装可能存在的变化。
- 抽象策略类（Strategy）：规定策略或算法的行为。
- 具体策略类（ConcreteStrategy）：具体的策略或算法实现。

![Strategy](../../images/pattern/Strategy.png)  

### [代码实现](../../code/strategy)

### 优点
- 策略模式利用组合、委托和多态等技术和思想，可以有效地避免多重条件选择语句。
- 策略模式提供了对开放封闭原则的完美支持，将算法封装在独立的 strategy 中，使得它们易于切换，易于理解，易于扩展。
- 策略模式中的算法也可以复用在系统的其他地方，从而避免许多重复的复制粘贴工作。
- 在策略模式中利用组合和委托来让 Context拥有执行算法的能力，这也是继承的一种更轻便的替代方案。

### 缺点
- 使用策略模式会在程序中增加许多策略类或者策略对象
- 客户端必须知道所有的策略类，并自行决定使用哪一个策略类。

### 使用场景
- 许多相关的类仅仅是行为有异。“策略”提供了一种用多个行为中的一个行为来配置一个类的方法。
- 需要使用一个算法的不同变体。
- 算法使用客户不应该知道的数据。可使用策略模式以避免暴露复杂的、与算法有关的数据结构。
- 一个类定义了多种行为，并且这些行为在这个类的操作中以多个条件语句的形式出现。将相关的条件分支移入它们各自的策略类中以代替这些条件语句。

### 实例
根据绩效计算年终奖：假设绩效为S的人年终奖有4倍工资，绩效为A的人年终奖有3倍工资，而绩效为B的人年终奖是2倍工资。把每种绩效的计算规则都封装在对应的策略类里面，context把计算职责委托给了某个策略对象。
